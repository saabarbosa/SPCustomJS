<!-- HTML RAMAIS -->

  <h2>Lista de Ramais</h2>
                    <hr class="thin" />
                    <br />
                    <div style="background-color: white; color: #000; padding:4px">
                        <table id="ramais" class="table table-striped">
                        </table>
                    </div>

<!-- HTML RAMAIS -->

<!-- SCRIPT RAMAIS -->
<script>
  

$(document).ready(function() {
var arrayDadosRamais = [];
$SP().list("Ramais").get({
  fields:"ID, Title, Setor, Pessoa",
  orderby:"Title ASC"
}, function(data) {
	  for (var i=0; i < data.length; i++) {
		  arrayDadosRamais[i] = [];
		  arrayDadosRamais[i][0] = data[i].getAttribute("Title");
		  arrayDadosRamais[i][1] = data[i].getAttribute("Setor");
		  arrayDadosRamais[i][2] = data[i].getAttribute("Pessoa");
		  //arrayDadosRamais[i][2] = "['" +  data[i].getAttribute("Departamento") +'", "'+  data[i].getAttribute("Setor") +'" , "' +  data[i].getAttribute("Title") + '", "' + data[i].getAttribute("Ramal") + "']";
      }
console.log("arrayDadosRamais: " + arrayDadosRamais);	

				$('#ramais').DataTable( {
						data: arrayDadosRamais,
						destroy: false,
						searching: true,
						paging: true,
						bRetrieve: true,
						language: {url: 'https://cdn.datatables.net/plug-ins/1.10.16/i18n/Portuguese-Brasil.json'},
						columns: [
							{ title: "Ramal" },
							{ title: "Setor" },
							{ title: "Pessoa" }

						]

					});  
});

});





</script>
<!-- SCRIPT RAMAIS -->